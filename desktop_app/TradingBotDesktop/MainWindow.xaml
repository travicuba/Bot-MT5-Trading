<Window x:Class="TradingBotDesktop.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:TradingBotDesktop.Views"
        Title="Trading Bot MT5" Height="700" Width="1100"
        MinHeight="600" MinWidth="900"
        Background="{StaticResource PrimaryBgBrush}"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ===== SIDEBAR ===== -->
        <Border Grid.Column="0"
                Background="{StaticResource SidebarBgBrush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,0,1,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Logo / Nombre -->
                <StackPanel Grid.Row="0" Margin="16,24,16,24">
                    <TextBlock Text="&#x1F4C8; Trading Bot"
                               FontSize="16" FontWeight="Bold"
                               Foreground="{StaticResource AccentBrush}"/>
                    <TextBlock Text="MT5 Desktop" FontSize="11"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               Margin="0,2,0,0"/>
                </StackPanel>

                <!-- Navegacion -->
                <StackPanel Grid.Row="1">
                    <Button x:Name="BtnDashboard"
                            Content="  Dashboard"
                            Style="{StaticResource NavButtonActive}"
                            Click="NavButton_Click" Tag="Dashboard"/>
                    <Button x:Name="BtnStatistics"
                            Content="  Estadisticas"
                            Style="{StaticResource NavButton}"
                            Click="NavButton_Click" Tag="Statistics"/>
                    <Button x:Name="BtnHistory"
                            Content="  Historial"
                            Style="{StaticResource NavButton}"
                            Click="NavButton_Click" Tag="History"/>
                    <Button x:Name="BtnConfiguration"
                            Content="  Configuracion"
                            Style="{StaticResource NavButton}"
                            Click="NavButton_Click" Tag="Configuration"/>
                    <Button x:Name="BtnSystem"
                            Content="  Sistema"
                            Style="{StaticResource NavButton}"
                            Click="NavButton_Click" Tag="System"/>
                    <Button x:Name="BtnSettings"
                            Content="  Conexion VPS"
                            Style="{StaticResource NavButton}"
                            Click="NavButton_Click" Tag="Settings"/>
                </StackPanel>

                <!-- Estado de conexion (fondo sidebar) -->
                <StackPanel Grid.Row="2" Margin="16,12">
                    <Separator/>
                    <StackPanel Orientation="Horizontal" Margin="0,8,0,4">
                        <Ellipse x:Name="ConnectionDot"
                                 Style="{StaticResource StatusDot}"
                                 Fill="{StaticResource ErrorBrush}"
                                 Margin="0,0,6,0"/>
                        <TextBlock x:Name="ConnectionText"
                                   Text="Sin conexion"
                                   FontSize="11"
                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                        <Ellipse x:Name="BridgeDot"
                                 Style="{StaticResource StatusDot}"
                                 Fill="{StaticResource ErrorBrush}"
                                 Margin="0,0,6,0"/>
                        <TextBlock x:Name="BridgeText"
                                   Text="Puente MT5: off"
                                   FontSize="11"
                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                    </StackPanel>
                    <TextBlock x:Name="ClockText"
                               Text="--:--:--"
                               FontSize="12"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               Margin="0,6,0,8"
                               FontFamily="Consolas"/>
                    <TextBlock Text="v1.0.0" FontSize="10"
                               Foreground="{StaticResource TextSecondaryBrush}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ===== CONTENIDO PRINCIPAL ===== -->
        <Grid Grid.Column="1">

            <!-- Pantalla de mantenimiento (overlay) -->
            <Border x:Name="MaintenanceOverlay"
                    Background="{StaticResource PrimaryBgBrush}"
                    Visibility="Collapsed"
                    Panel.ZIndex="100">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="&#x1F6A7;" FontSize="64" TextAlignment="Center"/>
                    <TextBlock Text="EN MANTENIMIENTO"
                               FontSize="28" FontWeight="Bold"
                               Foreground="{StaticResource WarningBrush}"
                               TextAlignment="Center" Margin="0,16,0,8"/>
                    <TextBlock x:Name="MaintenanceMsg"
                               Text="Estamos realizando mejoras. Vuelva pronto."
                               FontSize="14"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               TextAlignment="Center" TextWrapping="Wrap"
                               MaxWidth="450"/>
                    <TextBlock Text="El sistema se activara automaticamente cuando finalice."
                               FontSize="11"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               TextAlignment="Center" Margin="0,16,0,0"/>
                </StackPanel>
            </Border>

            <!-- Vistas de paginas -->
            <Frame x:Name="MainFrame"
                   NavigationUIVisibility="Hidden"
                   Background="{StaticResource SecondaryBgBrush}"/>
        </Grid>
    </Grid>
</Window>
